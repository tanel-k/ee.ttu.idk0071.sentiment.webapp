<template>
  <require from="./lookup-form.css"></require>
  <div class="row">
    <div class="col-md-12">
      <h1>Submit a lookup request</h1>
    </div>
  </div>
  <div class="row" gui-id="lookup-form-container">
    <div class="col-md-12">
      <form>
        <fieldset class="form-group">
          <div class="form-group required">
            <label class="control-label">Keyword</label>
            <input value.bind="entityName" gui-id="keyword-input" class="form-control">
            <small></small>
          </div>
          <div class="form-group ${!isEmailValid ? 'has-error' : ''}">
            <label class="control-label">E-mail</label>
            <input value.bind="email" gui-id="email-input" class="form-control">
            <span if.bind="!isEmailValid" class="help-block">This is not a valid e-mail</span>
            <small>Insert your e-mail in order to be notified when the lookup completes (optional)</small>
          </div>
          <div class="form-group required">
            <label class="control-label">Search domains</label>
            <select if.bind="regularSelectMode" gui-id="domain-select" class="form-control" multiple value.bind="domainIds">
              <option repeat.for="domainOption of domainOptions" value="${domainOption.value}">
                ${domainOption.label}
              </option>
            </select>
            <drag-drop-select 
              if.bind="!regularSelectMode" 
              options.bind="domainOptions"
              available-title="Available"
              selected-title="Selected"
              value.bind="domainIds"
            ></drag-drop-select>
            <small class="no-user-select">Drag and drop to select.<br/>Press and hold the <em>Ctrl</em> key to select more than one domain</small>
          </div>
        </fieldset>
        <button click.trigger="performLookup()" gui-id="btn-perform-lookup" class="btn btn-block btn-primary" disabled.bind="!canLookup">Perform lookup</button>
      </form>
    </div>
  </div>
</template>